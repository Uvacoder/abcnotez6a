(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{456:function(t,e,s){"use strict";s.r(e);var a=s(45),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"sql-multiple-tables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql-multiple-tables"}},[t._v("#")]),t._v(" SQL Multiple Tables")]),t._v(" "),s("p",[t._v("we can split our data")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.codecademy.com/learn/paths/full-stack-engineer-career-path/tracks/fscp-sql-for-back-end-development/modules/fscp-working-with-multiple-sql-tables/cheatsheet",target:"_blank",rel:"noopener noreferrer"}},[t._v("Codecademy Scheatsheet"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("strong",[t._v("Combining Tables with SQL")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://content.codecademy.com/courses/learn-sql/SQL_Reference_sheet_v3.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Codecademy Reference Sheet"),s("OutboundLink")],1)]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("of course you can use joins…")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"union"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#union"}},[t._v("#")]),t._v(" Union")]),t._v(" "),s("p",[t._v("to stack one dataset on top of the other.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" table1\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNION")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" table2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("SQL has strict rules for appending data:")]),t._v(" "),s("ul",[s("li",[t._v("Tables must have the same number of columns.")]),t._v(" "),s("li",[t._v("The columns must have the same data types in the same order as the first table.")])]),t._v(" "),s("blockquote",[s("p",[t._v("duplicate rows will be excluded.")])]),t._v(" "),s("p",[t._v("Besides stacking one table on top of another, we can also use "),s("code",[t._v("UNION")]),t._v(" to quickly make a “mini” dataset:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("SELECT '2017-01-01' AS 'month'\nUNION\nSELECT '2017-02-01' AS 'month'\n")])])]),s("p",[t._v("will produce:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("month")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2017-01-01")])]),t._v(" "),s("tr",[s("td",[t._v("2017-02-01")])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"with"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#with"}},[t._v("#")]),t._v(" With")]),t._v(" "),s("p",[t._v("eg. to combine two tables, when one of the tables is the result of another calculation.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WITH")]),t._v(" previous_results "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" previous_results\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" customers\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" _____ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _____"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("The "),s("code",[t._v("WITH")]),t._v(" statement allows us to perform a separate query (such as aggregating customer’s subscriptions)")]),t._v(" "),s("li",[s("code",[t._v("previous_results")]),t._v(" is the alias that we will use to reference any columns from the query inside of the "),s("code",[t._v("WITH")]),t._v(" clause")]),t._v(" "),s("li",[t._v("We can then go on to do whatever we want with this temporary table (such as join the temporary table with another table)")])]),t._v(" "),s("p",[t._v("Essentially, we are putting a whole first query inside the parentheses "),s("code",[t._v("()")]),t._v(" and giving it a name. After that, we can use this name as if it’s a table and write a new query "),s("em",[t._v("using")]),t._v(" the first query.")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WITH")]),t._v(" previous_query "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" customer_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("COUNT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("subscription_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'subscriptions'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" orders\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" customer_id\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" previous_query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscriptions\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" previous_query\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" customers\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" previous_query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("Do "),s("em",[t._v("not")]),t._v(" include "),s("code",[t._v(";")]),t._v(" inside of the "),s("code",[t._v("()")]),t._v(" of your "),s("code",[t._v("WITH")]),t._v(" statement.")])]),t._v(" "),s("blockquote",[s("p",[t._v("you can use "),s("code",[t._v("WITH")]),t._v(" for more than one nested query by listing each query using commas after the "),s("code",[t._v("WITH")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("WITH\nquery1 AS (SELECT column1 FROM table1 WHERE condition1),\nquery2 AS (SELECT column2 FROM table2 WHERE condition2)\n…\n")])])])]),t._v(" "),s("h2",{attrs:{id:"review"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#review"}},[t._v("#")]),t._v(" Review")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("JOIN")]),t._v(" will combine rows from different tables if the join condition is true.")]),t._v(" "),s("li",[s("code",[t._v("LEFT JOIN")]),t._v(" will return every row in the "),s("em",[t._v("left")]),t._v(" table, and if the join condition is not met, "),s("code",[t._v("NULL")]),t._v(" values are used to fill in the columns from the "),s("em",[t._v("right")]),t._v(" table.")]),t._v(" "),s("li",[s("em",[t._v("Primary key")]),t._v(" is a column that serves a unique identifier for the rows in the table.")]),t._v(" "),s("li",[s("em",[t._v("Foreign key")]),t._v(" is a column that contains the primary key to another table.")]),t._v(" "),s("li",[s("code",[t._v("CROSS JOIN")]),t._v(" lets us combine all rows of one table with all rows of another table.")]),t._v(" "),s("li",[s("code",[t._v("UNION")]),t._v(" stacks one dataset on top of another.")]),t._v(" "),s("li",[s("code",[t._v("WITH")]),t._v(" allows us to define one or more temporary tables that can be used in the final query.")])]),t._v(" "),s("p",[t._v("Practice Projects:")]),t._v(" "),s("p",[t._v("https://discuss.codecademy.com/t/data-science-independent-project-2-explore-a-sample-database/419945")]),t._v(" "),s("p",[t._v("https://discuss.codecademy.com/t/data-science-independent-project-3-education-census-data/419947")])])}),[],!1,null,null,null);e.default=n.exports}}]);