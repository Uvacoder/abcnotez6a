(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{404:function(e,t,a){"use strict";a.r(t);var s=a(45),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"clean-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clean-code"}},[e._v("#")]),e._v(" Clean Code")]),e._v(" "),a("hr"),e._v(" "),a("h1",{attrs:{id:"comments-formatting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comments-formatting"}},[e._v("#")]),e._v(" Comments & Formatting")]),e._v(" "),a("p",[e._v("You could think that comments help with code readability. In reality, the "),a("strong",[e._v("opposite is often the case")]),e._v(" though.")]),e._v(" "),a("p",[e._v("Proper "),a("strong",[e._v("code formatting")]),e._v(" (i.e. keeping lines short, adding blank lines etc.) on the other hand "),a("strong",[e._v("helps a lot with reading")]),e._v(" and understanding code.")]),e._v(" "),a("p",[e._v("Bad Comments")]),e._v(" "),a("p",[e._v('There are plenty of bad comments which you can add to your code. In the best case, "bad" means "'),a("strong",[e._v("redundant")]),e._v('" in the worst case, it means "'),a("strong",[e._v("confusing")]),e._v('" or even "'),a("strong",[e._v("misleading")]),e._v('".')]),e._v(" "),a("p",[e._v("Dividers & Markers")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// !!!!!!!\n// CLASSES\n// !!!!!!!\nclass User { ... }\nclass Product { ... }\n// !!!!!!!\n// MAIN\n// !!!!!!!\nconst user = new User(...);\n")])])]),a("p",[e._v("Dividers and markers are redundant. If you code is written in a clean way (i.e. you use proper names etc.), it's obvious what your different code parts are about.")]),e._v(" "),a("p",[e._v("You don't need extra markers for that. They only stop your reading flow and make analyzing the code file "),a("strong",[e._v("harder")]),e._v(".")]),e._v(" "),a("p",[e._v("Redundant Information")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function createUser() { // creating a new user\n  ...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("Comments like in this example "),a("strong",[e._v("add nothing")]),e._v(". Instead, you stop and spend time reading them - just to learn what you already knew because the code used proper names.")]),e._v(" "),a("p",[e._v("This command could be useful if you had "),a("strong",[e._v("poor naming")]),e._v(":")]),e._v(" "),a("p",[e._v("But of course you should "),a("strong",[e._v("avoid such poor names")]),e._v(" in the first place. Commented Out Code")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function build() { // creating a new user\n  ...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function createUser() {\n  ...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// function createProduct() {\n//   ...\n// }\n")])])]),a("p",[e._v("We all do that from time to time.\nBut you should try to "),a("strong",[e._v("avoid commenting out code")]),e._v(". Instead: Just "),a("strong",[e._v("delete")]),e._v(" it.")]),e._v(" "),a("p",[e._v("When using "),a("strong",[e._v("source control")]),e._v(" (e.g. Git), you can always bring back old code if you need it - commented-out code just "),a("strong",[e._v("clutters your code file")]),e._v(" and makes going through it harder.")]),e._v(" "),a("p",[e._v("Misleading Comments")]),e._v(" "),a("p",[e._v("Probably the "),a("strong",[e._v("worst kind of comments")]),e._v(" are comments which actually "),a("strong",[e._v("mislead")]),e._v(" the reader. Is the above function logging a user in (as the name implies) or creating a brand-new")]),e._v(" "),a("p",[e._v("user (as the comment implies).")]),e._v(" "),a("p",[e._v("We don't know - and now we have to "),a("strong",[e._v("analyze the complete function")]),e._v(" (and any other functions it might call) to find out.")]),e._v(" "),a("p",[e._v("Definitely avoid these kinds of comments.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login() { // create a new user\n  ...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("Good Comments")]),e._v(" "),a("p",[e._v("Good Comments")]),e._v(" "),a("p",[e._v("Whilst comments don't improve your code, there are couple of comments which could make sense.")]),e._v(" "),a("p",[e._v("Legal Information")]),e._v(" "),a("p",[e._v("In some projects and/ or companies, you could be required to add legal information to your code files.")]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   // (c) Academind GmbH\n")])])]),a("p",[e._v("Obviously, there's little you can do about that. But since the comment is right at the top of the code file, it's also not a big issue.")]),e._v(" "),a("p",[e._v("So of course, there's nothing wrong with such kinds of comments.")]),e._v(" "),a("p",[e._v('"Required" Explanations')]),e._v(" "),a("p",[e._v("In rare cases, adding extra explanations next to your code does help - "),a("strong",[e._v("even if you named everything properly")]),e._v(".")]),e._v(" "),a("p",[e._v("A good example would be regular expressions:")]),e._v(" "),a("p",[e._v("Even though the name passwordRegex tells us that this regular expression will be used to validate passwords, it's not clear immediately, which specific rule will apply.")]),e._v(" "),a("p",[a("strong",[e._v("Regular expressions are not that easy to read")]),e._v(", hence adding that extra comment doesn't hurt.")]),e._v(" "),a("p",[e._v("Warnings")]),e._v(" "),a("p",[e._v("Also in rare cases, warnings next to some code could make sense - for example if a unit test may take a long time to complete or if a certain functionality won't work in certain environments.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   function fetchTestData() { ... } // requires local dev server\n# Min. 8 characters, at least: one letter, one number, one special character\nconst passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?\n&]{8,}$/\n")])])]),a("p",[e._v("Todo Notes")]),e._v(" "),a("p",[e._v("Todo Notes")]),e._v(" "),a("p",[e._v('Even though, you shouldn\'t over-do it, adding "Todo" notes can also be okay.')]),e._v(" "),a("p",[e._v('Of course it\'s better to implement a feature completely or not at all - or in incremental steps which don\'t require "Todo" comments - but leaving a "Todo" comment here and there won\'t hurt, especially since modern IDEs help you find these comments.')]),e._v(" "),a("p",[e._v('Obviously, it will not help readability (and your code in general), if you just have a bunch of "Todo" comments everywhere!')]),e._v(" "),a("p",[e._v("Vertical Formatting")]),e._v(" "),a("p",[e._v("Vertical formatting is all about using the - well - vertical space in your code file. So it's all about adding blank lines but also about grouping related concepts together and adding space between distanct concepts.")]),e._v(" "),a("p",[e._v("Adding Blank Lines")]),e._v(" "),a("p",[e._v("Have a look at this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  // todo: add password validation\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    throw new Error('Invalid input!');\n  }\n  const user = findUserByEmail(email);\n  const passwordIsValid = compareEncryptedPassword(user.password, password);\n  if (passwordIsValid) {\n    createSession();\n  } else {\n    throw new Error('Invalid credentials!');\n  }\n}\nfunction signup(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    throw new Error('Invalid input!');\n  }\n  const user = new User(email, password);\n  user.saveToDatabase();\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("The above code uses good names and is not overly long - still it can be challenging to digest. Compare this code snippet:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    throw new Error('Invalid input!');\n  }\n  const user = findUserByEmail(email);\n  const passwordIsValid = compareEncryptedPassword(user.password, password);\n  if (passwordIsValid) {\n    createSession();\n  } else {\n    throw new Error('Invalid credentials!');\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function signup(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    throw new Error('Invalid input!');\n  }\n  const user = new User(email, password);\n  user.saveToDatabase();\n}\n")])])]),a("p",[e._v("It's the exact same code but the extra blank lines "),a("strong",[e._v("help with readability")]),e._v(". Hence you should "),a("strong",[e._v("add vertical spacing")]),e._v(" to make your code cleaner.")]),e._v(" "),a("p",[e._v("But "),a("strong",[e._v("where")]),e._v(' should you add blank lines? That\'s related to the concept of "Vertical Density" and "Vertical Distance".')]),e._v(" "),a("p",[e._v("Vertical Density & Vertical Distance")]),e._v(" "),a("p",[a("strong",[e._v("Vertical density")]),e._v(" simply means that related concepts should be "),a("strong",[e._v("kept closely together")]),e._v(". "),a("strong",[e._v("Vertical distance")]),e._v(" means that concepts which are not closely related "),a("strong",[e._v("should be separated")]),e._v(".")]),e._v(" "),a("p",[e._v("That affects both individual statements inside of a function as well as functions/ methods as a whole.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function signup(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    throw new Error('Invalid input!');\n  }\n  const user = new User(email, password);\n  user.saveToDatabase();\n}\n")])])]),a("p",[e._v("Here, we have two main concepts in this function: Validation and creating the new user in the database.")]),e._v(" "),a("p",[e._v("These concepts "),a("strong",[e._v("should be separated by a blank line")]),e._v(" therefore.\nOn the other hand, creating the user object and then calling saveToDatabase() on it")]),e._v(" "),a("p",[e._v("belongs closely together, hence "),a("strong",[e._v("no blank line")]),e._v(" should be added in between.\nIf we had "),a("strong",[e._v("multiple functions")]),e._v(", then "),a("strong",[e._v("functions that call other functions should be kept")])]),e._v(" "),a("p",[a("strong",[e._v("close together")]),e._v(" - with blank lines in between but not on different ends of the code file. If functions are "),a("strong",[e._v("not directly working together")]),e._v(" (i.e. not directly calling each other) it is")]),e._v(" "),a("p",[e._v("okay if there is "),a("strong",[e._v("more space")]),e._v(" (e.g. other functions) in between. Ordering Functions & Methods")]),e._v(" "),a("p",[e._v('When it comes to ordering functions and methods, it is a good practice to follow the "stepdown rule".')]),e._v(" "),a("p",[e._v("A function A which is called by function B should be (closely) "),a("strong",[e._v("below function B")]),e._v(" - at least if your programming language allows such an ordering.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  validate(email, passsword);\n  ...\n}\nfunction validate(email, password) {...}\n")])])]),a("p",[e._v("Splitting Code Across Files")]),e._v(" "),a("p",[e._v("If your "),a("strong",[e._v("code file gets bigger")]),e._v(' and/ or if you have a lot of different "things" in one file (e.g. multiple class definitions), it is considered a good practice to split that code across multiple files and to then use import and export statements to connect your code. This ensures that your individual code files as a whole stay readable.')]),e._v(" "),a("p",[e._v("Horizontal Formatting")]),e._v(" "),a("p",[e._v("Horizontal Formatting")]),e._v(" "),a("p",[e._v("Horizontal formatting of course is about using the horizontal space in your code file - that primarily means that lines should be kept short and readable.")]),e._v(" "),a("p",[e._v("Breaking Lines Into Multiple Lines")]),e._v(" "),a("p",[e._v("Nowadays, you can of course fit extremely long lines onto your screen - at least if you can read small text/ fonts.")]),e._v(" "),a("p",[e._v("But just because it fits into a line technically, doesn't mean that it's good code.")]),e._v(" "),a("p",[e._v("Good code should use "),a("strong",[e._v("relatively short lines")]),e._v(" and you should consider splitting code across multiple lines if it becomes too long.")]),e._v(" "),a("p",[e._v("This is too long - and too much code in one line.\nThis snippet holds the same logic but is easier to read:")]),e._v(" "),a("p",[e._v("Using Short Names")]),e._v(" "),a("p",[e._v("Names should be descriptive - you learned that.\nBut you shouldn't waste space and make them harder to read by "),a("strong",[e._v("being too specific")]),e._v(". Consider this name:")]),e._v(" "),a("p",[e._v("const loggedInUserAuthenticatedByEmailAndPassword = ... This is way too specific! loggedInUser would suffice!")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const loggedInUser = email && password ? login(email, password) :\nlogin(getValidatedEmail(), getValidatedPassword());\nif (!email && !password) {\n  email = getValidatedEmail();\n  password = getValidatedPassword();\n}\nconst loggedInUser = login(email, password);\n")])])]),a("p",[e._v("Functions (& Methods)")]),e._v(" "),a("p",[e._v("Functions and methods (I don't differentiate here) are the meat of any code we write. All our code is part of some function or method after all. And we use functions to call other functions, build re-usable functionalities and more.")]),e._v(" "),a("p",[e._v("That's why it's extremely important to write clean functions. Functions are made up of three main parts:")]),e._v(" "),a("p",[e._v("Their name\nTheir parameters (if any) Their body")]),e._v(" "),a("p",[e._v('The naming of functions and methods is covered in the "Naming" section already. This section cheat sheet focuses on the parameters and body therefore.')]),e._v(" "),a("p",[e._v("Minimize The Number Of Parameters")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("fewer parameters a function has, the easier it is to read and call")]),e._v(" (and the easier it is to read and understand statements where a function is called).")]),e._v(" "),a("p",[e._v("See this example:")]),e._v(" "),a("p",[a("strong",[e._v("Calling this function is no fun")]),e._v(". We have to remember "),a("strong",[e._v("which parameters")]),e._v(" are required and in "),a("strong",[e._v("which order")]),e._v(" they have to be provided.")]),e._v(" "),a("p",[e._v("Reading this code is no fun either - for example, it's not immediately clear why we have two 'Max' values in the list.")]),e._v(" "),a("p",[e._v("How Many Parameters Are Okay?")]),e._v(" "),a("p",[e._v("Generally, "),a("strong",[e._v("fewer is better")]),e._v(".\nFunctions "),a("strong",[e._v("without paramters are of course very easy to read")]),e._v(" and digest. For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("createUser('Max', 'Max', 'test@test.com', 'testers', 31, ['Sports',\n'Cooking']);\ncreateSession();\nuser.save();\n")])])]),a("p",[e._v('But "no parameters" is '),a("strong",[e._v("not always an option")]),e._v(" - after all it is the capability to take parameters that makes functions dynamic and flexible.")]),e._v(" "),a("p",[e._v("Thankfully, functions with "),a("strong",[e._v("one parameter")]),e._v(" are also straightforward:")]),e._v(" "),a("p",[e._v("Functions with "),a("strong",[e._v("two parameters can be okay")]),e._v(" - it really depends on the context and the kind of function.")]),e._v(" "),a("p",[e._v("For example, "),a("strong",[e._v("this code should be straightforward")]),e._v(" and easy to use and understand:")]),e._v(" "),a("p",[e._v("On the other hand, you can encounter functions where two parameters can "),a("strong",[e._v("already be confusing")]),e._v(" and it's not obvious / common sense which value should go where:")]),e._v(" "),a("p",[e._v("Of course modern IDEs help you with understanding the expected values and order but having to hover over these functions is an extra step which definitely "),a("strong",[e._v("hurts code readability")]),e._v(".")]),e._v(" "),a("p",[a("strong",[e._v("More than two parameters should mostly be avoided")]),e._v(" - such functions can be hard to call and read:")]),e._v(" "),a("p",[e._v("Reducing The Number Of Parameters")]),e._v(" "),a("p",[e._v("What can you do if a function takes too many paramters but needs all that data?")]),e._v(" "),a("p",[a("strong",[e._v("You can replace multiple parameters with a map or an array!")])]),e._v(" "),a("p",[e._v("createRectangle({x: 10, y: 9, width: 30, height: 12}); This is much more readable!")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("isValid(email);\nfile.write(data);\nlogin('test@test.com', 'testers');\ncreateProduct('Carpet', 12.99);\ncreateSession('abc', 'temp');\nsortUsers('email', 'asc');\ncreateRectangle(10, 9, 30, 12);\ncreateUser('test@test.com', 31, 'max');\n")])])]),a("p",[e._v("Keep Functions Small")]),e._v(" "),a("p",[e._v("Keep Functions Small")]),e._v(" "),a("p",[e._v("Besides the number of paramters, the "),a("strong",[e._v("function body should also be kept small")]),e._v(".")]),e._v(" "),a("p",[e._v("Because a smaller body means "),a("strong",[e._v("less code to read and understand")]),e._v(". But in addition, it also forces you (ideally) to write highly readable code - for example by extracting other functions which use good naming.")]),e._v(" "),a("p",[e._v("Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    throw new Error('Invalid input!');\n  }\n  const existingUser = database.find('users', 'email', '==', email);\n  if (!existingUser) {\n    throw new Error('Could not find a user for the provided email.');\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  if (existingUser.password === password) {\n    // create a session\n  } else {\n    throw new Error('Invalid credentials!');\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("If you read this snippet, you will probably understand pretty quickly what it's doing. Because it's a short, simple snippet.")]),e._v(" "),a("p",[e._v("Nonetheless, it'll definitely take you a few moments. Now consider this snippet which does the same thing:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  validateUserInput(email, password);\n  const existingUser = findUserByEmail(email);\n  existingUser.validatePassword(password);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("This is way shorter and way easier to digest, right?\nAnd that's the goal! Having short, focused functions which are "),a("strong",[e._v("easy to read, to")])]),e._v(" "),a("p",[a("strong",[e._v("understand and to maintain")]),e._v("! Do One Thing")]),e._v(" "),a("p",[e._v("Do One Thing")]),e._v(" "),a("p",[e._v("In order to be small, "),a("strong",[e._v("functions should just do one thing")]),e._v('. Exactly one thing. This ensures that a function doesn\'t do too much.\nBut what is "one thing"?')]),e._v(" "),a("p",[e._v('What is "One Thing"?')]),e._v(" "),a("p",[e._v('The concept of functions doing "just one thing" can be confusing. Have a look at this function:')]),e._v(" "),a("p",[e._v("Is this function doing one thing? You could argue it does three things:")]),e._v(" "),a("p",[e._v("Validate the user input Verify the credentials Create a session")]),e._v(" "),a("p",[e._v('And of course you would be right - it does all these things.\nThe idea of a function doing "one thing" is linked to another concept: The '),a("strong",[e._v("levels of")])]),e._v(" "),a("p",[a("strong",[e._v("abstraction")]),e._v(" the various operations in a function have.\nA function is considered to do just one thing if all operations in the function body are "),a("strong",[e._v("on")])]),e._v(" "),a("p",[a("strong",[e._v("the same level of abstraction")]),e._v(" and "),a("strong",[e._v("one level below")]),e._v(" the function name.")]),e._v(" "),a("p",[e._v("Levels of Abstraction")]),e._v(" "),a("p",[e._v("Levels of abstraction can be confusing but in the end, it's quite straightforward concept. There "),a("strong",[e._v("high-level and low-level operations in programming")]),e._v(" - and then a "),a("strong",[e._v("huge")])]),e._v(" "),a("p",[a("strong",[e._v("bandwidth between")]),e._v(" these two extremes. Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  validateUserInput(email, password);\n  verifyCredentials(email, password);\n  createSession();\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function connectToDatabase(uri) {\n  if (uri === '') {\n    console.log('Invalid URI!');\n")])])]),a("p",[e._v("return; }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  const db = new Database(uri);\n  db.connect();\n}\n")])])]),a("p",[e._v("Calling db.connect() is a high level operation - we're not dealing with the internals of the programming language here, we're not establish any network connections in great detail. We just call a function which then does a bunch of things under the hood.")]),e._v(" "),a("p",[e._v("console.log(...) on the other hand, just like making that uri === '' comparison is a lower level operation. A higher level equivalent would be code like this:")]),e._v(" "),a("p",[e._v('Now the implementation details are "'),a("strong",[e._v("abstracted away")]),e._v('".\n'),a("strong",[e._v("Low levels of abstraction aren't bad though")]),e._v("! You just should "),a("strong",[e._v("not mix them with higher")])]),e._v(" "),a("p",[a("strong",[e._v("level")]),e._v(" operations since that can cause confusion and make code harder to read.")]),e._v(" "),a("p",[e._v("And you should try to write functions where "),a("strong",[e._v("all operations are on the same level")]),e._v(" of abstraction which then in turn should be exactly "),a("strong",[e._v("one level below the function name")]),e._v(" (i.e. the level ob abstraction implied by the function name).")]),e._v(" "),a("p",[e._v("Of course getting this right can be tricky and requires experience (and you'll still not always get it right). But knowing these concepts is an important step towards writing clean functions.")]),e._v(" "),a("p",[e._v("Operations Should Be One Level Below The Function Name")]),e._v(" "),a("p",[e._v("In one of the above examples, we can see a couple of operations which are on the same level of abstraction - which then is one level below the level implied by the function name:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (uriIsValid(uri)) {\n  showError('Invalid URI!');\n  return;\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  validateUserInput(email, password);\n  verifyCredentials(email, password);\n  createSession();\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("The login function clearly wants to do all the steps that are required to log a user in. That definitely includes input validation, credential verification and then the creation of some session, token or anything like that.")]),e._v(" "),a("p",[e._v("And our function does exactly that!")]),e._v(" "),a("p",[e._v("All three operations are on the same level of abstraction (pretty high levels in this case) and one level below the function name.")]),e._v(" "),a("p",[e._v("Of course, the line is blurry though.\nWhat about this slightly altered example?")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function login(email, password) {\n  if (inputInvalid(email, password)) {\n    showError(email, password);\n")])])]),a("p",[e._v("return; }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  verifyCredentials(email, password);\n  createSession();\n}\n")])])]),a("p",[e._v("Here, we still got relatively high levels of abstraction but we can definitely argue whether all operations are on the same level. verifyCredentials(...) seems to be more high- level than doing the if check and caring about the error message manually.")]),e._v(" "),a("p",[e._v("In addition, whilst validation belongs to the tasks kicked of by login(), we can question whether showError(...) should be called directly inside of login(). It seems to be more than one level below the login() instruction.")]),e._v(" "),a("p",[e._v("Obviously, this always leaves "),a("strong",[e._v("room for discussion and interpretation")]),e._v(".\nAnd more granularity also isn't always better (see further down below, \"Split Functions")]),e._v(" "),a("p",[e._v('Reasonably").')]),e._v(" "),a("p",[e._v("Avoid Mixing Levels Of Abstraction")]),e._v(" "),a("p",[e._v("As mentioned above, levels of abstractions shouldn't be mixed, since that decreases readability and can cause confusion.")]),e._v(" "),a("p",[e._v("Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function printDocument(documentPath) {\n  const fsConfig = { mode: 'read', onError: 'retry' };\n  const document = fileSystem.readFile(documentPath, fsConfig);\n  const printer = new Printer('pdf');\n  printer.print(document);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("It's not a lot of code but it mixes levels of abstractions. Configuring the readFile() operation and executing all these individual steps side-by-side with the pretty high- level printing operations adds unnecessary complexity to this function.")]),e._v(" "),a("p",[e._v("This version is cleaner:")]),e._v(" "),a("p",[e._v("Here, readFromFile() can take care about the exact steps that need to be performed in order to read the document.")]),e._v(" "),a("p",[e._v("Of course, you could argue, that this could be split up even more:")]),e._v(" "),a("p",[e._v('But this new printFile() function almost just rephrases the printDocument function. So this split could be done but it might not always be a great decision to make it (see below, "Split Functions Reasonably").')]),e._v(" "),a("p",[e._v("Rules Of Thumb")]),e._v(" "),a("p",[e._v('The concept of "levels of abstraction" can be scary and you absolutely should '),a("strong",[e._v("NOT spend hours")]),e._v(" on your code, just to analzye which levels you migth have there.")]),e._v(" "),a("p",[e._v("Instead, there are "),a("strong",[e._v("two easy rules of thumb")]),e._v(" I came up with, which help you decide when to split:")]),e._v(" "),a("ol",[a("li",[a("strong",[e._v("Extract code that works on the same functionality / is closely related")])]),e._v(" "),a("li",[a("strong",[e._v("Extract code that requires more interpretation than the surrounding code")])])]),e._v(" "),a("p",[e._v("Here's an "),a("strong",[e._v("example for rule #1:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function printDocument(documentPath) {\n  const document = readFromFile(documentPath);\n  const printer = new Printer('pdf');\n  printer.print(document);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function printDocument(documentPath) {\n  const document = readFromFile(documentPath);\n  printFile(document);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function updateUser(userData) {\n  validateUserData(userData);\n  const user = findUserById(userData.id);\n  user.setAge(userData.age);\n  user.setName(userData.name);\n  user.save();\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("setAge() andsetName() have the same goal / functionality: They update data in the user object. save() then confirms these changes.")]),e._v(" "),a("p",[e._v("You could therefore split the function:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function updateUser(userData) {\n  validateUserData(userData);\n  applyUpdate(userData);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function applyUpdate(userData) {\n  const user = findUserById(userData.id);\n  user.setAge(userData.age);\n  user.setName(userData.name);\n  user.save();\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("Just by following that rule of thumb, you implictly removed another problem: Mixed levels of abstraction in the original function.")]),e._v(" "),a("p",[e._v("Here's an "),a("strong",[e._v("example for rule #2:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function processTransaction(transaction) {\n  if (transaction.type === 'UNKNOWN') {\n    throw new Error('Invalid transaction type.');\n  }\n  if (transaction.type === 'PAYMENT') {\n    processPayment(transaction);\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("The validation for whether the transaction type is 'UNKNOWN' is of course not difficult to read but it definitely needs more interpretation from your side than just reading processPayment(...).")]),e._v(" "),a("p",[e._v("Hence, you could refactor this to:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function processTransaction(transaction) {\n  validateTransaction(transaction);\n  if (isPayment(transaction)) {\n    processPayment(transaction);\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("This is now all very readable and no step requires extra interpretation from the reader's side.")]),e._v(" "),a("p",[e._v('Again, "behind the scenes", we got rid of mixed levels of abstraction and a too big distance between the level implied by the function name and some code in that function.')]),e._v(" "),a("p",[e._v("Split Functions Reasonably")]),e._v(" "),a("p",[e._v("With all these rules, and because you of course definitely don't want to write bad code, you can get into a habit of extracting everything into new functions.")]),e._v(" "),a("p",[e._v("This is dangerous - because this actually also can lead to bad code. Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function createUser(email, password) {\n  validateInput(email, password);\n  saveUser(email, password);\n}\nfunction validateInput(email, password) {\n  if (!isEmail(email) || isInvalidPassword(password)) {\n    throwError('Invalid input');\n  }\n}\nfunction isEmail(email) { ... }\nfunction isInvalidPassword(password) { ... }\nfunction throwError(message) {\n  throw new Error(message);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function saveUser(email, password) {\n  const user = buildUser(email, password);\n  user.save();\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function buildUser(email, password) {\n  return new User(email, password);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("And now compare it to this version:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   function createUser(email, password) {\n     validateInput(email, password);\n     saveUser(email, password);\n   }\n   function validateInput(email, password) {\n     if (!isEmail(email) || isInvalidPassword(password)) {\n       throw new Error('Invalid input');\n     }\n   }\n   function isEmail(email) { ... }\n   function isInvalidPassword(password) { ...\n   function saveUser(email, password) {\n     const user = new User(email, password);\n     user.save();\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("Which version is easier to understand?\nI would argue, the second version is. Even though (or actually: because) we have "),a("strong",[e._v("less")])]),e._v(" "),a("p",[a("strong",[e._v("function extractions")]),e._v(" there.\nSplitting functions and keeping them short is important! But pointless extractions lead")]),e._v(" "),a("p",[e._v("nowhere - you shouldn't extract just for the extraction's sake. How do you know that an extraction doesn't make sense? There are "),a("strong",[e._v("three main signals:")])]),e._v(" "),a("ol",[a("li",[a("p",[e._v("You're just "),a("strong",[e._v("renaming the operation")])])]),e._v(" "),a("li",[a("p",[e._v("You suddenly need to "),a("strong",[e._v("scroll way more")]),e._v(", just the follow the line of thought of a simple")]),e._v(" "),a("p",[e._v("function")])]),e._v(" "),a("li",[a("p",[e._v("You "),a("strong",[e._v("can't come up with a reasonable name")]),e._v(" for the extracted function, which "),a("strong",[e._v("hasn't")])]),e._v(" "),a("p",[a("strong",[e._v("already been taken")])])])]),e._v(" "),a("p",[e._v("In the example above, both the throwError() and the buildUser() functions in the end just renamed the operation they contained. For buildUser(), coming up with a good name was hard because createUser() was already taken - and does more than just create a single user object.")]),e._v(" "),a("p",[e._v("Avoid Unexpected Side Effects")]),e._v(" "),a("p",[e._v("In addition to everything covered above, there's one last important aspect which you should keep in mind to write clean functions.")]),e._v(" "),a("p",[e._v("You should "),a("strong",[e._v("avoid unexpected side effects in functions")]),e._v(".")]),e._v(" "),a("p",[e._v("What's a Side Effect?")]),e._v(" "),a("p",[e._v("What's a Side Effect?")]),e._v(" "),a("p",[e._v("A side effect is simply an operation which "),a("strong",[e._v("changes the state")]),e._v(" (data, system status etc.) of the application.")]),e._v(" "),a("p",[e._v("Connecting to a database is a side effect. Sending an Http request is one. Printing output to the console or changing data saved in memory - all these things are side effects.")]),e._v(" "),a("p",[e._v("Side effects are a "),a("strong",[e._v("normal thing in development")]),e._v(" - after all, we DO build applications in order to derive results and change things.")]),e._v(" "),a("p",[a("strong",[e._v("Problems arise when a side effect is unexpected")]),e._v(".")]),e._v(" "),a("p",[e._v("Unexpected Side Effects")]),e._v(" "),a("p",[e._v("A side effect is unexpected, when the name and or context of a function doesn't imply it. Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function validateUserInput(email, password) {\n  if (!isEmail(email) || passwordIsInvalid(password)) {\n    throw new Error('Invalid input!');\n  }\n  createSession();\n}\n")])])]),a("p",[e._v("This function has an "),a("strong",[e._v("unexpected side-effect")]),e._v(": createSession().\nCreating a session (which has an impact on data in memory, maybe even on data in a")]),e._v(" "),a("p",[e._v("database or files) is definitely a side-effect.\nWe might expect this kind of side-effect in a function named login(), but in")]),e._v(" "),a("p",[e._v("validateUserInput(), it's definite "),a("strong",[e._v("not expected")]),e._v(". And that's a problem.")]),e._v(" "),a("p",[e._v("Hence you should "),a("strong",[e._v("move this side-effect into another function")]),e._v(", or - if it makes sense - "),a("strong",[e._v("rename the function")]),e._v(" to imply that this side-effect will be caused.")]),e._v(" "),a("p",[e._v("Control Structures")]),e._v(" "),a("p",[e._v("No matter which kind of application you're building - you will most likely also use control structures in your code: if statements, for loops, maybe also while loops or switch-case statements.")]),e._v(" "),a("p",[e._v("Control structures are extremely important to coordinate code flow and of course you should use them.")]),e._v(" "),a("p",[e._v("But control structures "),a("strong",[e._v("can also lead to bad or suboptimal code")]),e._v(" and hence play an important role when it comes to writing clean code.")]),e._v(" "),a("p",[e._v("There are three main areas of improvement, you should be aware of:")]),e._v(" "),a("ol",[a("li",[a("strong",[e._v("Prefer positive checks")])]),e._v(" "),a("li",[a("strong",[e._v("Avoid deep nesting")])]),e._v(" "),a("li",[a("strong",[e._v("Embrace errors")])])]),e._v(" "),a("p",[a("em",[e._v('Side-note: "Avoid deep nesting" is heavily related to clean code practices you already know from writing')]),e._v(" "),a("strong",[e._v("clean functions")]),e._v(" "),a("em",[e._v("in general. Still, there are some control-structure specific concepts, that are covered in this document and course section.")])]),e._v(" "),a("p",[e._v("Prefer Positive Checks")]),e._v(" "),a("p",[e._v("This is a simple one. It can make sense to use positive wording in your if checks instead of negative wording.")]),e._v(" "),a("p",[e._v("Though - in my opinion at least - sometimes a short negative phrase is better than a constructed positive one.")]),e._v(" "),a("p",[e._v("Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (isEmpty(blogContent)) {\n  // throw error\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (!hasContent(blogContent)) {\n  // throw error\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("The first snippet is quite readable and requires zero thinking.")]),e._v(" "),a("p",[e._v("The second snippet uses the ! operator to check for the opposite - slightly more thinking and interpretation is required from the reader.")]),e._v(" "),a("p",[e._v("Hence option #1 is preferrable.\nHowever, sometimes, I do prefer the negative version:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (!isOpen(transaction)) {\n  // throw error\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (isClosed(transaction)) {\n  // throw error\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("On first sight, it looks like option #2 is better.")]),e._v(" "),a("p",[e._v("And it generally might be. But what if we didn't just have 'Open' and 'Closed' transactions? What if we also had 'Unknown'?")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (!isOpen(transaction)) {\n  // throw error\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (isClosed(transaction) || isUnknown(transaction)) {\n  // throw error\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("This quickly adds up! The more possible options we have, the more checks we need to combine.")]),e._v(" "),a("p",[e._v("Or we simply check for the opposite - in this example, simply for the transaction NOT being open.")]),e._v(" "),a("p",[e._v("Avoid Deep Nesting")]),e._v(" "),a("p",[e._v("This is very important! You should "),a("strong",[e._v("absolutely avoid deeply nested control structures")]),e._v(" since such code is highly unreadable, hard to maintain and also often error-prone.")]),e._v(" "),a("p",[e._v("You can see an example for deeply nested control structures in the section videos - it's quite long, which is why I didn't paste it into this document.")]),e._v(" "),a("p",[e._v("There are a couple of techniques that can help you with getting rid of deeply nested control structures and code duplication:")]),e._v(" "),a("ol",[a("li",[a("p",[a("strong",[e._v("Use guards and fail fast")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Extract control structures and logic into separate functions")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Polymorphism & Factory Functions")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Replace")]),e._v(" "),a("strong",[e._v("if")]),e._v(" "),a("strong",[e._v("checks with errors")])])])]),e._v(" "),a("p",[e._v("Use Guards & Fail Fast")]),e._v(" "),a("p",[e._v("Guards are a great concept! Often, you can extract a nested if check and "),a("strong",[e._v("move it right to the start of a function")]),e._v(" to "),a("strong",[e._v("fail fast")]),e._v(" if some condition is (not) met and only continue with the rest of the code otherwise.")]),e._v(" "),a("p",[e._v("Here's an example without a guard:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function messageUser(user, message) {\n  if (user) {\n    if (message) {\n      if (user.acceptsMessages) {\n        const success = user.sendMessage(message);\n        if (success) {\n          console.log('Message sent!');\n        }\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("Here's the improved version, using a guard and failing fast:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function messageUser(user, message) {\n  if (!user || !message || !user.acceptsMessages) {\n")])])]),a("p",[e._v("return; }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  user.sendMessage(message);\n  if (success) {\n    console.log('Message sent!');\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("By extracting and combining conditions, three if checks could be merged into one which leads to the funtion "),a("strong",[e._v("not")]),e._v(" continuing if one condition fails.")]),e._v(" "),a("p",[e._v("Guards are these if checks right at the start of your functions.")]),e._v(" "),a("p",[e._v("You simply take your nested checks, "),a("strong",[e._v("invert the logic")]),e._v(" (i.e. check for the user "),a("strong",[e._v("not")]),e._v(" accepting messages etc.) and you then return or throw an error to "),a("strong",[e._v("avoid that the rest of the function executes")]),e._v(".")]),e._v(" "),a("p",[e._v("Extract Control Structures & Logic Into New Functions")]),e._v(" "),a("p",[e._v("Extract Control Structures & Logic Into New Functions")]),e._v(" "),a("p",[e._v("We already learned that splitting functions and keeping functions small is important. Applying this knowledge is always great, it also helps with removing deeply nested control structures.")]),e._v(" "),a("p",[e._v("Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function connectDatabase(uri) {\n  if (!uri) {\n    throw new Error('An URI is required!');\n  }\n  const db = new Database(uri);\n  let success = db.connect();\n  if (!success) {\n    if (db.fallbackConnection) {\n      return db.fallbackConnectionDetails;\n    } else {\n      throw new Error('Could not connect!');\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  return db.connectionDetails;\n}\n")])])]),a("p",[e._v("This code could be improved by applying what we learned about functions:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   function connectDatabase(uri) {\n     validateUri(uri);\n     const db = new Database(uri);\n     let success = db.connect();\n     let connectionDetails;\n     if (success) {\n       connectionDetails = db.connectionDetails;\n     else {\n       connectionDetails = connectFallbackDatabase(db);\n     }\n     return connectionDetails;\n   }\n   function validateUri(uri) {\n     if (!uri) {\n       throw new Error('An URI is required!');\n     }\n   }\n   function connectFallbackDatabase(db) {\n     if (db.fallbackConnection) {\n       return db.fallbackConnectionDetails;\n     } else {\n       throw new Error('Could not connect!');\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("You might be able to optimize this code even more, but you can already see that the nested control structure was removed by extracting a separate connectFallbackDatabase() function.")]),e._v(" "),a("p",[e._v("Polymorphism & Factory Functions")]),e._v(" "),a("p",[e._v("Sometimes, you end up with duplicated if statements and duplicated checks just because the code inside of these statements differs slightly.")]),e._v(" "),a("p",[e._v("In such cases, "),a("strong",[e._v("polymorphism")]),e._v(" and "),a("strong",[e._v("factory functions")]),e._v(" can help you. Before we dive into these concepts, have a look at this example: Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function processTransaction(transaction) {\n  if (isPayment(transaction)) {\n    if (usesCreditCard(transaction)) {\n      processCreditCardPayment(transaction);\n    }\n    if (usesPayPal(transaction)) {\n      processPayPalPayment(transaction);\n    }\n  } else {\n    if (usesCreditCard(transaction)) {\n      processCreditCardRefund(transaction);\n    }\n    if (usesPayPal(transaction)) {\n      processPayPalRefund(transaction);\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("In this example, we repeat the usesCreditCard() and usesPayPal() checks because we run different code depending on whether we have payment or refund.")]),e._v(" "),a("p",[e._v("We can solve this by writing a "),a("strong",[e._v("factory function which returns a polymorphic object:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   function getProcessors(transaction) {\n     let processors = {\nprocessPayment: null,\n       processRefund: null\n     };\n     if (usesCreditCard(transaction)) {\n       processors.processPayment = processCreditCardPayment;\n       processors.processRefund = processCreditCardRefund;\n     }\n     if (usesPayPal(transaction)) {\n       processors.processPayment = processPayPalPayment;\n       processors.processRefund = processPayPalRefund;\n     }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   function processTransaction(transaction) {\n     const processors = getProcessors(transaction);\n     if (isPayment(transaction)) {\n       processors.processPayment(transaction);\n     } else {\n       processors.processRefund(transaction);\n     }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("The repeated checks for whether a credit card or PayPal was used was now outsourced into the getProcessors() function which now only runs these checks once (instead of twice, as before).")]),e._v(" "),a("p",[e._v("getProcessors() is a "),a("strong",[e._v("factory function")]),e._v(". It produces objects - and that's the definition of a factory function: "),a("strong",[e._v("A function that produces objects")]),e._v(".")]),e._v(" "),a("p",[e._v("The getProcessors() function returns an object with two functions stored inside - functions which were "),a("strong",[e._v("NOT executed yet")]),e._v(" (note, that the "),a("strong",[e._v("()")]),e._v(" "),a("strong",[e._v("are missing")]),e._v(" after processCreditCardPayment etc.).")]),e._v(" "),a("p",[e._v("The object returned by getProcessors() is "),a("strong",[e._v("polymorphic")]),e._v(" because we always "),a("strong",[e._v("use it in the same way")]),e._v(" (we can call processPayment() and processRefund()) but the "),a("strong",[e._v("logic that will be executed is not always the same")]),e._v(".")]),e._v(" "),a("p",[a("em",[e._v("Side-note: The same problem can also be solved by using classes and inheritance - this will be")]),e._v(" "),a("strong",[e._v('covered in the "Classes" course section')]),e._v("*!*")]),e._v(" "),a("p",[e._v("Embrace Errors")]),e._v(" "),a("p",[e._v("Errors are another nice way of getting rid of redundant if checks. They allow us to utilize mechanisms built into the programming language to handle problems in the place where they should be handled (and cause them in the place where they should be caused...).")]),e._v(" "),a("p",[e._v("Consider this example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function createUser(email, password) {\n  const inputValidity = validateInput(email, password);\n  if (inputValidity.code === 1 || inputValidity === 2) {\n    console.log(inputValidity.message);\n    return;\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  // ... continue\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function validateInput(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    return { code: 1, message: 'Invalid input' };\n  }\n  const existingUser = findUserByEmail(email);\n  if (existingUser) {\n    return { code: 2, message: 'Email is already in use!' };\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("Here, the validateInput() function does not directly log to the console and also not just return true or false. Instead, it returns an object / map with more information about the validation result. This is not an unrealistic scenario, but it's implemented in a suboptimal way.")]),e._v(" "),a("p",[e._v("In the end, the example code produces a \"synthetic error\". But because it's synthetic, we can't handle it with normal error handling tools, instead, if checks are used.")]),e._v(" "),a("p",[e._v("Here's a better version - embracing built-in error support which pretty much all programming languages offer:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   function createUser(email, password) {\n     try {\n       validateInput(email, password);\n     } catch (error) {\n       console.log(error.message);\n     }\n     // ... continue\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   function validateInput(email, password) {\n     if (!email.includes('@') || password.length < 7) {\n       throw new Error('Input is invalid!');\n     }\n     const existingUser = findUserByEmail(email);\n     if (existingUser) {\n       throw new Error('Email is already taken!');\n     }\n")])])]),a("p",[e._v("}\nthrow is a keyword in JavaScript (and many other languages) which can be used to")]),e._v(" "),a("p",[e._v('generate an error.\nOnce an error is "on its way", it\'ll bubble up through the entire call stack and '),a("strong",[e._v("cancel any")])]),e._v(" "),a("p",[a("strong",[e._v("function execution until it's handled")]),e._v(" (via try-catch).\nThis removes the need for extra if checks and return statements.")]),e._v(" "),a("p",[e._v("And we could even move the entire error handling logic out of the createUser() function.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function handleSignupRequest(request) {\n  try {\n    createUser(request.email, request.password)\n  } catch (error) {\n    console.log(error.message);\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function createUser(email, password) {\n  validateInput(email, password);\n  // ... continue\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function validateInput(email, password) {\n  if (!email.includes('@') || password.length < 7) {\n    throw new Error('Input is invalid!');\n  }\n  const existingUser = findUserByEmail(email);\n  if (existingUser) {\n    throw new Error('Email is already taken!');\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("Indeed, "),a("strong",[e._v('error handling should typically be considered to be "one thing"')]),e._v(" (remember: functions should do one thing), so moving it up into a separate function is a good idea.")]),e._v(" "),a("p",[e._v("Classes, Objects & Data Containers")]),e._v(" "),a("p",[e._v("This course does not focus on object-oriented programming, yet objects - and also classes - are of course an important aspect of programming in general, even if you don't follow a purely object-orient style.")]),e._v(" "),a("p",[e._v("Some concepts discussed in this document (and the respective course section) DO come from the object-oriented world and are focused on object-oriented programming.")]),e._v(" "),a("p",[e._v("Nonetheless, I included all concepts that help with writing classes and working with objects in general (even when using a mixed programming style) and/ or which also are interesting when not focusing on OOP.")]),e._v(" "),a("p",[e._v("When it comes to working with classes and objects and writing clean classes and objects, there are a "),a("strong",[e._v("couple of rules and concepts you should be aware of")]),e._v(".")]),e._v(" "),a("ol",[a("li",[e._v("We can "),a("strong",[e._v("differentiate between objects and data containers / data structures")])]),e._v(" "),a("li",[a("strong",[e._v("Consider using Polymorphism")])]),e._v(" "),a("li",[a("strong",[e._v("Classes should be small")])]),e._v(" "),a("li",[a("strong",[e._v("Classes should have a high cohesion")])]),e._v(" "),a("li",[a("strong",[e._v('Respect the "Law of Demeter"')])]),e._v(" "),a("li",[a("strong",[e._v("Write SOLID classes")])])]),e._v(" "),a("p",[e._v("Objects vs Data Containers / Data Structures")]),e._v(" "),a("p",[a("strong",[e._v("Classes are blueprints for objects")]),e._v(".")]),e._v(" "),a("p",[e._v("There also are programming languages where you can create objects without (actively) using classes - for example JavaScript. And there are languages where you MUST use classes for pretty much everything (e.g. Java).")]),e._v(" "),a("p",[e._v("Either way, objects allow you to "),a("strong",[e._v("group related data")]),e._v(" (properties) and "),a("strong",[e._v("functionalities")]),e._v(" (methods) "),a("strong",[e._v("together")]),e._v(". And objects typically expose a public API of methods which can be used anywhere in your code to interact with these objects.")]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   customer.message(someMessage);\n")])])]),a("p",[e._v("Even though we're technically always dealing with objects, we can differentiate between \""),a("strong",[e._v("real objects")]),e._v('" (i.e. used as objects with a public API) and mere '),a("strong",[e._v("data containers")]),e._v(" (or data structures, though that term is also used in different ways).")]),e._v(" "),a("p",[e._v("A "),a("strong",[e._v("data container is really just that - an object which holds a bunch of data")]),e._v(". Here's an example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class UserData {\n  public name: string;\n  public age: number;\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const userData = new UserData();\nuserData.name = 'Max';\nuserData.age = 31;\n")])])]),a("p",[e._v("This class has no methods and both properties are exposed publicly.\nAn "),a("strong",[e._v("object on the other hand hides it's data from the public and instead exposes a public")])]),e._v(" "),a("p",[a("strong",[e._v("API")]),e._v(" in the form of methods:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class User {\n  private name: string;\n  private age: number;\n  constructor(name: string, age: number) {\n    this.name = name;\n    this.age = age;\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  greet() {\n    console.log(`Hi! I'm ${this.name} and I'm ${this.age} years old.`);\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const userData = new UserData('Max', 31);\nuserData.greet();\n")])])]),a("p",[a("strong",[e._v("Both are absolutely valid types of objects")]),e._v(" - it's just important to use the right kind of object for the right job. And you should "),a("strong",[e._v("avoid mixing the types.")])]),e._v(" "),a("p",[e._v("Why does this matter?")]),e._v(" "),a("p",[e._v("When writing clean code, we "),a("strong",[e._v("shouldn't try to access some internals of an object")]),e._v(". This bares the danger of the object changing these internals and our code breaking because of that.")]),e._v(" "),a("p",[e._v("In addition, it makes code harder to read, if we have to interpret the meaning and values of properties of other classes.")]),e._v(" "),a("p",[e._v("Calling something like greet() on the other hand is straightforward.")]),e._v(" "),a("p",[e._v("Of course, when working with a data container in a place where a data container is needed, this is absolutely fine:")]),e._v(" "),a("p",[e._v("In this example, it's clear that credentials just holds some data which we can extract and work with.")]),e._v(" "),a("p",[e._v("Polymorphism")]),e._v(" "),a("p",[e._v("Polymorphism is a fancy term but in the end it just means that you re-use code (e.g. call the same method) "),a("strong",[e._v("multiple times")]),e._v(" but that the code will do "),a("strong",[e._v("different things")]),e._v(", depending on the object type.")]),e._v(" "),a("p",[e._v("It's a powerful concept which can be utilized to avoid code duplication. Here's an example that does not use polymorphism:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   class Delivery {\n     private purchase: Purchase;\n     constructor(purchase: Purchase) {\n       this.purchase = purchase;\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("     deliverProduct() {\n       if (this.purchase.deliveryType === 'express') {\n         Logistics.issueExpressDelivery(this.purchase.product);\n       } else if (this.purchase.deliveryType === 'insured') {\n         Logistics.issueInsuredDelivery(this.purchase.product);\n       } else {\n         Logistics.issueStandardDelivery(this.purchase.product);\n       }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("     trackProduct() {\n       if (this.purchase.deliveryType === 'express') {\n         Logistics.trackExpressDelivery(this.purchase.product);\n       } else if (this.purchase.deliveryType === 'insured') {\n         Logistics.trackInsuredDelivery(this.purchase.product);\n       } else {\n         Logistics.trackStandardDelivery(this.purchase.product);\n       }\nfunction validateInput(credentials) {\n  if (!isEmail(credentials.email) || !isPassword(credentials.password))   {\n")])])]),a("p",[e._v("// ...")]),e._v(" "),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("The problem with this code is that we have the same if checks with different logic inside of the if statements. So it's some code duplication but not everything is duplicated.")]),e._v(" "),a("p",[e._v("And we need these different cases because a product can of course be sent and tracked (and maybe we could even come up with additional methods).")]),e._v(" "),a("p",[e._v("Here's how this issue could be solved in a polymorphic way:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class Delivery {\n  protected purchase: Purchase;\n  constructor(purchase: Purchase) {\n    this.purchase = purchase;\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class ExpressDelivery extends Delivery {\n  deliverProduct() {\n    Logistics.issueExpressDelivery(this.purchase.product);\n  }\n  trackProduct() {\n    Logistics.trackExpressDelivery(this.purchase.product);\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class InsuredDelivery extends Delivery {\n  deliverProduct() {\n    Logistics.issueInsuredDelivery(this.purchase.product);\n  }\n  trackProduct() {\n    Logistics.trackInsuredDelivery(this.purchase.product);\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class StandardDelivery extends Delivery {\n  deliverProduct() {\n    Logistics.issueStandardDelivery(this.purchase.product);\n  }\n  trackProduct() {\n    Logistics.trackStandardDelivery(this.purchase.product);\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("Above, there are three specialized classes (ExpressDelivery etc.) which all inherit from the Delivery base class to share common functionalities.")]),e._v(" "),a("p",[e._v("All these specialized classes implement the same deliverProduct() and trackProduct() methods - though the exact same code in these methods differs.")]),e._v(" "),a("p",[a("strong",[e._v("That's the idea behind polymorphism!")])]),e._v(" "),a("p",[e._v("We can now write a factory function or class method that creates instances of these classes when needed. It's the factory function which holds the if check from above.")]),e._v(" "),a("p",[e._v("Hence we only need the check once instead of once per method.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("function createDelivery(purchase) {\n  if (purchase.deliveryType === 'express') {\n    return new ExpressDelivery(purchase);\n  } else if (purchase.deliveryType.deliveryType === 'insured') {\n    return new InsuredDelivery(purchase);\n  } else {\n    return new StandardDelivery(purchase);\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("You can now always run code like this and the exact result will depend on the deliveryType used for creating the objects:")]),e._v(" "),a("p",[e._v("Classes Should Be Small")]),e._v(" "),a("p",[e._v("Just like functions, classses should be "),a("strong",[e._v("small")]),e._v('. Also just like functions, classes should kind of "do one thing", though here "one thing" is not a single task but instead a '),a("strong",[e._v("single object all tasks should be related to")]),e._v(".")]),e._v(" "),a("p",[e._v("A User class might for example have a login() method. It might have a couple of other methods that do user-typical things but a refund() method would be strange.")]),e._v(" "),a("p",[e._v("refund() sounds more like a payment-related method so it would make more sense in a Payment class for example.")]),e._v(" "),a("p",[e._v("Hence a User class which also handles payments would be too big - even if it would only be made up of a couple of lines of code.")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("size of a class is therefore defined by its number of responsibilities")]),e._v(". And clean classes should "),a("strong",[e._v("only have one responsibility")]),e._v(" ("),a("em",[e._v('also see "Single Responsibility Principle", further down below')]),e._v(").")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const expressDelivery = createDelivery({deliveryType: 'express', ...});\nexpressDelivery.deliverProduct();\n")])])]),a("p",[e._v("The responsibility of a User class should be to handle user-related tasks, for example login(), logout() etc.")]),e._v(" "),a("p",[e._v("Classes & Cohesion")]),e._v(" "),a("p",[a("strong",[e._v("Clean classes have a high cohesion.")])]),e._v(" "),a("p",[e._v('But what is "cohesion"?')]),e._v(" "),a("p",[a("strong",[e._v("Cohesion basically describes the amount by which methods of a class use class properties.")])]),e._v(" "),a("p",[e._v("If a class has 2 properties and 3 methods and every method uses both properties, this class would have the "),a("strong",[e._v("highest possible cohesion")]),e._v(".")]),e._v(" "),a("p",[e._v("If the same class would look such that no method uses the properties, the class would have "),a("strong",[e._v("no cohesion")]),e._v(" - the properties would be worthless for the methods.")]),e._v(" "),a("p",[a("strong",[e._v("Low cohesion is a clear sign for a class that should maybe just be a data container")]),e._v(" / data structure instead of an object with a public API (since that public API, the methods, doesn't interact with the internal properties).")]),e._v(" "),a("p",[e._v("In reality, you will rarely achieve maximum cohesion but "),a("strong",[e._v("high cohesion should definitely be your goal")]),e._v(".")]),e._v(" "),a("p",[e._v("Once you note that cohesion decreases, it might be time to "),a("strong",[e._v("split a class into smaller, more focused classes")]),e._v(".")]),e._v(" "),a("p",[e._v("Hence, if you care about cohesion (and you should!), you will automatically end up with smaller classes - which is good.")]),e._v(" "),a("p",[e._v("The Law Of Demeter")]),e._v(" "),a("p",[e._v("When working with objects, the following code is considered to be bad / not clean:")]),e._v(" "),a("p",[e._v("this.customer.lastPurchase.date;\nThis code violates the "),a("strong",[e._v("Law of Demeter")]),e._v(" which states that you shouldn't access the")]),e._v(" "),a("p",[e._v('internals of another object through another object.\nThis is also called the "'),a("strong",[e._v("principle of least knowledge")]),e._v('".\n'),a("strong",[e._v("Code in a method")]),e._v(" may only access direct internals (properties and methods) of:")]),e._v(" "),a("p",[e._v("the object it **belongs to\n** objects that are "),a("strong",[e._v("stored in properties of that object")]),e._v(" objects which are "),a("strong",[e._v("received as method parameters")])]),e._v(" "),a("p",[e._v("objects which are "),a("strong",[e._v("created in the method")])]),e._v(" "),a("p",[e._v("In this case, lastPurchase is a property (an attribute) of the customer object, which in turn is a property of the class the executing method belongs to. It's a different object, maybe based on some Purchase class. And that class then has a date property.")]),e._v(" "),a("p",[a("em",[e._v("Side-note: Here I directly access properties - it's the same if you would be using getters ("),a("strong",[e._v("customer.getLastPurchase().getDate()")]),e._v(").")])]),e._v(" "),a("p",[e._v("Accessing this date property through lastPurchase violates the Law of Demeter.\nThe problem with code like this is that you can end up with very long statements, full of")]),e._v(" "),a("p",[e._v('"chaining" (.something.somethingElse.more() is called "chaining").')]),e._v(" "),a("p",[e._v("This creates strong dependencies and whenever the Purchase class would change (e.g. date is renamed to paymentDate) all code snippets that look like above need to be adjusted.")]),e._v(" "),a("p",[e._v("The above code would better be implemented like this:")]),e._v(" "),a("p",[e._v("this.customer.getLastPurchaseDate();\nNow the extra dependency on lastPurchase.date was removed.")]),e._v(" "),a("p",[a("strong",[e._v("Even this solution is not optimal though")]),e._v(' - it would be better to "'),a("strong",[e._v("tell, not ask")]),e._v('". That means, it depends on what you actually needed to do with that date.')]),e._v(" "),a("p",[e._v("Let's say you needed the date to send the purchased products to the customer.")]),e._v(" "),a("p",[e._v('Instead of getting the date and then checking for the products, the following code would\'ve been a better way of avoiding the "Law of Demeter" violation:')]),e._v(" "),a("p",[e._v("this.warehouse.deliverPurchase(customer.lastPurchase);\nAs you can see, it's not just about moving some code around - sometimes a different")]),e._v(" "),a("p",[e._v('solution (working with different objects) is the cleanest way of getting something done. It\'s also important to note that the "Law of Demeter" really only applies to '),a("strong",[e._v("property /")])]),e._v(" "),a("p",[a("strong",[e._v("attribute chaining")]),e._v(".\nThe following code would be fine (as long as these "),a("strong",[e._v("methods are real methods and not")])]),e._v(" "),a("p",[a("strong",[e._v("just getters")]),e._v(" wrapped around properties): this.customer.sendMessage(message).retry(2);")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const date = this.customer.lastPurchase.date;\nthis.warehouse.deliverPurchasesByDate(this.customer, date);\n")])])]),a("p",[e._v("Why would this be okay?")]),e._v(" "),a("p",[e._v("Because now we "),a("strong",[e._v("utilize the public interfaces")]),e._v(' of various classes instead of "abusing" their internal data structure.')]),e._v(" "),a("p",[e._v("If you are only working with a couple of "),a("strong",[e._v("data containers")]),e._v(", you would "),a("strong",[e._v('not be violating the "Law of Demeter"')]),e._v(" when chaining their various properties together. Because the entire idea behind data containers "),a("strong",[e._v("IS")]),e._v(" that they expose their properties publicly - they got nothing else besides that!")]),e._v(" "),a("p",[e._v("SOLID Classes")]),e._v(" "),a("p",[e._v('When it comes to creating clean classes, there are a couple of helpful rules, laws and concepts (e.g. "Law of Demeter", see above). But especially the SOLID principles are often cited.')]),e._v(" "),a("p",[e._v("Below, all five principles are explained and put into the context of writing clean code.")]),e._v(" "),a("p",[e._v("S: Single-Responsibility Principle (SRP)")]),e._v(" "),a("p",[a("em",[e._v("A class should only have a single responsibility - it should only change for this one responsibility.")])]),e._v(" "),a("p",[e._v("The SRP simply states that a class should be focused on one core responsibility. Only if that responsibility requires changes to the class code, such changes are acceptable.")]),e._v(" "),a("p",[e._v("If a class needs to change because of different responsibilities, it's "),a("strong",[e._v("too big and should be split")]),e._v(" into multiple smaller classes.")]),e._v(" "),a("p",[e._v("The SRP is an important principle when it comes to writing clean code, since it "),a("strong",[e._v("enforces smaller, and therefore more readable, classes.")])]),e._v(" "),a("p",[e._v("Here's an example for a class that violates the SRP:")]),e._v(" "),a("p",[e._v("The actual code in the methods is missing, because it's not needed - it's the structure and API of the class which matters here.")]),e._v(" "),a("p",[e._v("This ReportDocument class violates the SRP because it needs to change because of at least two reasons:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class ReportDocument {\n  generateReport(data: any) { ... }\n  createPDF(report: any) { ... }\n}\n")])])]),a("p",[e._v("If anything related to how a report is generated changes\nIf anything related to how a report is printed as a PDF changes")]),e._v(" "),a("p",[e._v("It should be fair to assume that in most applications, these two features are probably not directly connected. The people deciding on how the PDF should look like are not necessarily the same people who decide how the report should be generated.")]),e._v(" "),a("p",[e._v("This class would therefore better be split - e.g. into Report and PDFPrinter classes.")]),e._v(" "),a("p",[e._v("The SRP is an "),a("strong",[e._v("important principle when it comes to writing clean code")]),e._v(". Because it typically leads to smaller and more focused classes - which is in line with what we want for our classes from a clean code perspective!")]),e._v(" "),a("p",[e._v("O: Open-Closed Principle (OCP)")]),e._v(" "),a("p",[a("em",[e._v("A class should be open for extension but closed for modification.")])]),e._v(" "),a("p",[e._v("Whilst the above sentence might sound cryptic, this is actually a straightforward principle.")]),e._v(" "),a("p",[e._v("Once you decided how a class should look like (which public API / methods it has), you should "),a("strong",[e._v('"close" the class for modification')]),e._v(" - i.e. the code doesn't change anymore.")]),e._v(" "),a("p",[e._v("Of course, that's not really true though. You still "),a("strong",[e._v("should continue working")]),e._v(" on the class and especially fix errors.")]),e._v(" "),a("p",[e._v("But you should "),a("strong",[e._v("not")]),e._v(" edit the class all the time, just to handle certain new features or - worse - variants of features.")]),e._v(" "),a("p",[e._v("Here's an example of a class that violates the OCP:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   class Printer {\n     printPDF(data: any) {\n")])])]),a("p",[e._v("// ...")]),e._v(" "),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("     printWebDocument(data: any) {\n       // ...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("     printPage(data: any) {\n       // ...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("     verifyData(data: any) {\n       // ...\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v('This Printer class has different methods for printing a web document (e.g. generating a HTML file), a "normal" page and a PDF.')]),e._v(" "),a("p",[e._v("Whenever we add a new type of document (e.g. a Word or Excel document), we need to add a new method - probably with a decent junk of code duplication.")]),e._v(" "),a("p",[e._v('This problem might sound familiar - we solved it with "Polymorphism" earlier! And indeed, that\'s how we can fix the issue here as well (and follow the OCP).')]),e._v(" "),a("p",[e._v("This Printer class is currently "),a("strong",[e._v("not closed")]),e._v(" because we need to come back to it and edit it whenever a new type of document should be printed.")]),e._v(" "),a("p",[e._v("To follow the OCP, we should close it and instead extend it whenever we want to add a new type of document.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("interface Printer {\n  print(data: any);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class PrinterImplementation {\n  verifyData(data: any) {}\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class WebPrinter extends PrinterImplementation implements Printer {\n  print(data: any) {\n    // print web document\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class PDFPrinter extends PrinterImplementation implements Printer {\n  print(data: any) {\n    // print PDF document\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class PagePrinter extends PrinterImplementation implements Printer {\n  print(data: any) {\n    // print real page\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("This snippet shows how we could fix the issue. Now, the base class PrinterImplementation (named like this because we have an interface named Printer) is closed. It doesn't need to change just because we want to support a new type of document.")]),e._v(" "),a("p",[a("strong",[e._v("Instead, we extend it")]),e._v(" - we add new subclasses which are based on PrinterImplementation (which adds common functionality like verification) and implement Printer (which forces all implementing classes to have a print() method).")]),e._v(" "),a("p",[e._v("The OCP is an "),a("strong",[e._v("important principle when it comes to writing clean code")]),e._v(". Because it typically leads to smaller and more focused classes - which is in line with what we want for our classes from a clean code perspective!")]),e._v(" "),a("p",[e._v("L: Liskov Substitution Principle (LSP)")]),e._v(" "),a("p",[a("em",[e._v("Objects in a program should be replaceable with instances of their subtypes.")])]),e._v(" "),a("p",[e._v("The above sentence should be quite clear. Here's an example of a baseclass being replaced with a subclass of it:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class Bird {\n  fly() {\n    console.log('Fyling...');\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class Eagle extends Bird {\n  dive() {\n    console.log('Diving...');\n  }\n}\nconst bird = new Bird();\n")])])]),a("p",[e._v("bird.fly();")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// We can also replace Bird() with Eagle()\nconst eagle = new Eagle();\neagle.fly();\n")])])]),a("p",[e._v("In this snippet, the Bird class is the superclass to the Eagle class and indeed, we can substitute the Bird which we construct with an Eagle without changing our code.")]),e._v(" "),a("p",[e._v("Now, let's add a new subclass which actually violates the principle:")]),e._v(" "),a("p",[e._v("We can't use Penguin as drop-in replacement for Bird, because penguins can't fly! So actually, as soon as we have a case like this, we "),a("strong",[e._v("violated the LSP")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class Penguin extends Bird {\n  // Problem: Can't fly!\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v("A better way of modelling our data then would be to do it like this:")]),e._v(" "),a("p",[e._v("class Bird {}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class FlyingBird extends Bird {\n  fly() {\n    console.log('Fyling...');\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class Eagle extends FlyingBird {\n  dive() {\n    console.log('Diving...');\n  }\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const eagle = new Eagle();\neagle.fly();\neagle.dive();\nclass Penguin extends Bird {\n  // Good! Birds don't need to fly!\n")])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v('Now we added a new FlyingBird class which is based on Bird. And we can now choose whether we have other birds which are "just birds" (like Penguin) or "flying birds" (like Eagle).')]),e._v(" "),a("p",[e._v("Now we follow the LSP.\nHence, it's fair to say that the LSP in the end has the goal of "),a("strong",[e._v("forcing us to model our data")])]),e._v(" "),a("p",[a("strong",[e._v("correctly")]),e._v(" and think carefully about our models and the entities we work with in our code. The LSP is definitely an important and popular principle, but it doesn't have that big of")]),e._v(" "),a("p",[e._v("an effect on our code if we look at it from a clean code perspective.")]),e._v(" "),a("p",[e._v("Yes, it could lead to smaller classes but it's really mostly focused on forcing us to model our data correctly.")]),e._v(" "),a("p",[e._v("I: Interface Seggragation Principle (ISP)")]),e._v(" "),a("p",[a("em",[e._v("Many client-specific interfaces are better than one general-purpose interface.")])]),e._v(" "),a("p",[e._v("Reading sentences like the one above can always be confusing, but the ISP is actually also quite straightforward.")]),e._v(" "),a("p",[e._v('When working with classes and in an OOP way, you often also work with "Interfaces". Not all programming languages support interfaces but many do.')]),e._v(" "),a("p",[e._v("Interfaces are basically contracts which force implementing classes to implement certain behaviors (methods and properties).")]),e._v(" "),a("p",[e._v("Here's an example of code that violates the ISP:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("interface Database {\n  storeData(data: any);\n  connect(uri: string);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class SQLDatabase implements Database {\n  connect(uri: string) {\n    // connecting...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  storeData(data: any) {\n    // Storing data...\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class InMemoryDatabase implements Database {\n  connect(uri: string) {\n    // Needs a connect method (because of interface)\n    // but hasn't anything to connect to :(\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  storeData(data: any) {\n    // Storing data...\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("In this example, we have a Database interface and then we got a couple of database classes for different kinds of databases.")]),e._v(" "),a("p",[e._v('The problem with that code is, that the Database interface is too generic - "too general purpose".')]),e._v(" "),a("p",[e._v("It forces the InMemoryDatabase to add a connect() method, even though this type of database has nothing to connect to (i.e. there is no extra database server or anything like that).")]),e._v(" "),a("p",[e._v("Hence it would be better to work with multiple, more specialized interfaces instead of the general purpose one. And that's exactly what the ISP says!")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("interface Database {\n     storeData(data: any);\n   }\n   interface RemoteDatabase {\n     connect(uri: string);\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   class SQLDatabase implements Database, RemoteDatabase {\n     connect(uri: string) {\n       // connecting...\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("     storeData(data: any) {\n       // Storing data...\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   class InMemoryDatabase implements Database {\n     storeData(data: any) {\n       // Storing data...\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("p",[e._v("Now, with this code, we got "),a("strong",[e._v("two interfaces")]),e._v(" intead of one and every class can pick the interfaces that make sense for it. Hence our InMemoryDatabase is able to just implement Database, which forces it to have a storeData() method and ignore the RemoteDatabase interface, which would force it to add a connect() method.")]),e._v(" "),a("p",[e._v("The ISP is definitely an important and popular principle, but it doesn't have that big of an effect on our code if we look at it from a clean code perspective.")]),e._v(" "),a("p",[e._v("D: Dependecy Inversion Principle (DIP)")]),e._v(" "),a("p",[a("em",[e._v("One should depend upon abstractions, not concretions.")])]),e._v(" "),a("p",[e._v("This last principle is a principle which you will often already follow, if you follow the other SOLID principles.")]),e._v(" "),a("p",[e._v("It basically is all about not being too specific in your code. Sounds strange?")]),e._v(" "),a("p",[e._v("Here's an example of code which we could improve (this code assumes that we have database classes as shown for the ISP available):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   class App {\n     private database: Database | RemoteDatabase;\n     constructor(database: Database | RemoteDatabase) {\n       if (database.connect) {\n         database.connect('my-url');\n       }\n       this.database = database;\n     }\n     saveSettings() {\n       this.database.storeData('Some data');\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("   const sqlDatabase = new SQLDatabase();\n   const app = new App(sqlDatabase);\n")])])]),a("p",[e._v("In this snippet, we use the databases we created for the ISP. In the constructor() of our App class, we check whether we're getting a RemoteDatabase (i.e. if we have a connect() method) and if we do, we do connect to the database.")]),e._v(" "),a("p",[e._v("The problem with this code is, that we're very specific in our constructor() method. The code we execute depends on which kind of database we're getting.")]),e._v(" "),a("p",[e._v('Hence we "depend on a concretion" in that example.')]),e._v(" "),a("p",[e._v("This is suboptimal because it means that we need to make this check whereever we get such a database and we also need to change our code whenever the database implementation changes.")]),e._v(" "),a("p",[e._v("Here's how we could restructure the code to follow the ISP:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class App {\n  private database: Database;\n  constructor(database: Database) {\n    this.database = database;\n")])])]),a("p",[e._v("}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  saveSettings() {\n    this.database.storeData('Some data');\n")])])]),a("p",[e._v("} }")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const sqlDatabase = new SQLDatabase();\nsqlDatabase.connect('my-url');\nconst app = new App(sqlDatabase);\n")])])]),a("p",[e._v('This snippet shows us why it\'s called the "Dependency Inversion Principle".')]),e._v(" "),a("p",[e._v("We ensure that we "),a("strong",[e._v("depend on an abstraction")]),e._v(' ("we just get some database") '),a("strong",[e._v("instead of a concretion")]),e._v(' ("we need to check whether we need to connect"). And we do that by '),a("strong",[e._v("inverting the dependency")]),e._v(".")]),e._v(" "),a("p",[e._v('Instead of depending on the kind of database inside of constructor(), we "force" whoever is creating an App to give us a database which is already connected (if required).')]),e._v(" "),a("p",[e._v("Use Common Sense")]),e._v(" "),a("p",[e._v('Just as in the "Functions" section of this course, I really want to emphase one important thing: Use your common sense.')]),e._v(" "),a("p",[e._v("It's easy to treat every tiny step as a single responsibility and single thing and if you do that, you end up with projects with 100s of classes that all contain only one method.")]),e._v(" "),a("p",[a("strong",[e._v("This is NOT the goal and definitely NOT clean code!")])]),e._v(" "),a("p",[e._v('Yes, classes should be small - just like methods and functions. But "small" does not mean "almost empty".')]),e._v(" "),a("p",[e._v("It is okay to do work in classes and methods. And whilst methods indeed probably shouldn't be dozens of lines long, the idea behind classes is to group related data and concepts together.")]),e._v(" "),a("p",[a("strong",[e._v("Don't destroy that by breaking up everything!")])]),e._v(" "),a("p",[e._v("Instead, consider the various concepts and rules explained here. Apply them as good as you can but don't start breaking up everything because of them.")]),e._v(" "),a("p",[e._v("Clean Code - Checklist Naming")]),e._v(" "),a("p",[e._v("Use "),a("strong",[e._v("descriptive")]),e._v(" and meaningful names\n"),a("strong",[e._v("Variables & Properties")]),e._v(": Nouns or short phrases with adjectives "),a("strong",[e._v("Functions and Methods")]),e._v(": Verbs or short phrases with adjectives "),a("strong",[e._v("Classes")]),e._v(": Nouns")]),e._v(" "),a("p",[e._v("Be as "),a("strong",[e._v("specific")]),e._v(" as necessary and possible\nUse "),a("strong",[e._v("yes/ no")]),e._v(' "questions" for booleans (e.g. isValid)\n'),a("strong",[e._v("Avoid misleading")]),e._v(" names\nBe "),a("strong",[e._v("consistent")]),e._v(" with your names (e.g. stick to get... instead of fetch...)")]),e._v(" "),a("p",[e._v("Comments & Formatting")]),e._v(" "),a("p",[a("strong",[e._v("Most comments are bad")]),e._v(" - avoid them! Some good comments are "),a("strong",[e._v("acceptable")])]),e._v(" "),a("p",[a("strong",[e._v("Legal")]),e._v(" comments\n"),a("strong",[e._v("Warnings\nHelpful explanations")]),e._v(" (e.g. for Regex) "),a("strong",[e._v("Todos")]),e._v(" (don't overdo it though)")]),e._v(" "),a("p",[e._v("Use vertical formatting:\nKeep related concepts close to each other ("),a("strong",[e._v("vertical density")]),e._v(")")]),e._v(" "),a("p",[e._v("Add spacing / distance (e.g. blank linkes) between concepts that are not directly related ("),a("strong",[e._v("vertical distance")]),e._v(")")]),e._v(" "),a("p",[e._v("Write code "),a("strong",[e._v("top to bottom")]),e._v(": Called functions should come below calling functions (if possible)")]),e._v(" "),a("p",[e._v("Use "),a("strong",[e._v("horizontal")]),e._v(" formatting:\n"),a("strong",[e._v("Avoid long lines")]),e._v(" - break them into multiple lines instead Use "),a("strong",[e._v("indentation")]),e._v(" to express scope")]),e._v(" "),a("p",[e._v("Functions")]),e._v(" "),a("p",[e._v("Functions")]),e._v(" "),a("p",[a("strong",[e._v("Limit the number of parameters")]),e._v(" your functions use - less is better!\nConsider using objects, dictionaries or arrays to "),a("strong",[e._v("group multiple parameters into")])]),e._v(" "),a("p",[e._v("**one parameter\n** Functions should be "),a("strong",[e._v("small and do one thing")])]),e._v(" "),a("p",[e._v("Levels of abstraction inside the function body should be "),a("strong",[e._v("one level below the level implied by the function name")])]),e._v(" "),a("p",[a("strong",[e._v("Avoid mixing levels")]),e._v(" of abstractions in functions")]),e._v(" "),a("p",[e._v("But: "),a("strong",[e._v("Avoid redundent splitting!")]),e._v(" Stay "),a("strong",[e._v("DRY")]),e._v(" (Don't Repeat Yourself) "),a("strong",[e._v("Avoid unexpected side effects")])]),e._v(" "),a("p",[e._v("Control Structures & Errors")]),e._v(" "),a("p",[e._v("Prefer "),a("strong",[e._v("positive checks")]),e._v(" Avoid "),a("strong",[e._v("deep nesting")])]),e._v(" "),a("p",[e._v('Consider using "'),a("strong",[e._v("Guard")]),e._v('" statements\nConsider using '),a("strong",[e._v("polymorphism")]),e._v(" and "),a("strong",[e._v("factory functions Extract control structures")]),e._v(" into separate functions")]),e._v(" "),a("p",[e._v("Consider using "),a("strong",[e._v('"real" errors')]),e._v(' (with error handling) instead of "synthetic errors" built with if statements')]),e._v(" "),a("p",[e._v("Objects & Classes")]),e._v(" "),a("p",[e._v('Focus on building "real objects" '),a("strong",[e._v("or")]),e._v(" data containers / structures\nBuild "),a("strong",[e._v("small classes")]),e._v(" - focus on a "),a("strong",[e._v("single responsibility")]),e._v(" (which does "),a("strong",[e._v("not")]),e._v(' mean "single')]),e._v(" "),a("p",[e._v('method"!)\nBuild classes with '),a("strong",[e._v("high cohesion")])]),e._v(" "),a("p",[e._v('Follow the "'),a("strong",[e._v("Law of Demeter")]),e._v('" for "real objects" (avoid this.customer.lastPurchase.date)')]),e._v(" "),a("p",[e._v("Especially when doing OOP: Follow the SOLID principles\nEspecially "),a("strong",[e._v("SRP and OCP")]),e._v(" will help a lot with writing clean code (= readable code)")])])}),[],!1,null,null,null);t.default=n.exports}}]);