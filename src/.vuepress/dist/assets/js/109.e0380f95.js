(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{496:function(e,t,a){"use strict";a.r(t);var s=a(45),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"async-javascript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-javascript"}},[e._v("#")]),e._v(" Async Javascript")]),e._v(" "),a("h2",{attrs:{id:"asynchronous"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#asynchronous"}},[e._v("#")]),e._v(" Asynchronous?")]),e._v(" "),a("p",[e._v("JavaScript is single threaded, meaning that two bits of script cannot run at the same time; they have to run one after another.This is called "),a("strong",[e._v("blocking")]),e._v(";")]),e._v(" "),a("h2",{attrs:{id:"single-threading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#single-threading"}},[e._v("#")]),e._v(" Single Threading")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://bit.ly/2Nwu4Rd",target:"_blank",rel:"noopener noreferrer"}},[e._v("Wikipedia article on Threading"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v('JavaScript can "process" one command at a time. - is '),a("strong",[e._v("single-threaded")])]),e._v(" "),a("h4",{attrs:{id:"the-call-stack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-call-stack"}},[e._v("#")]),e._v(" The Call Stack")]),e._v(" "),a("p",[e._v("The JavaScript engine keeps a call stack (basically a list) of the functions that are running. When a function is invoked, it is added to the list. When all of the code inside a function has been run, then the function is removed from the call stack.")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("A function doesn't have to complete before another function is added to the call stack.")])]),e._v(" "),a("li",[a("p",[e._v("item on the stack are called "),a("strong",[e._v("frames")])])])]),e._v(" "),a("h3",{attrs:{id:"further-research"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#further-research"}},[e._v("#")]),e._v(" Further Research")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/Call_stack",target:"_blank",rel:"noopener noreferrer"}},[e._v("Call stack"),a("OutboundLink")],1),e._v(" on MDN")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Call_stack",target:"_blank",rel:"noopener noreferrer"}},[e._v("Call stack"),a("OutboundLink")],1),e._v(" on Wikipedia")])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"the-javascript-event-loop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-javascript-event-loop"}},[e._v("#")]),e._v(" The JavaScript Event Loop")]),e._v(" "),a("p",[e._v("The simplest explanation of JavaScript's "),a("em",[e._v("concurrency model")]),e._v(" uses two rules:")]),e._v(" "),a("ol",[a("li",[e._v('If some JavaScript is running, let it run until it is finished ("run-to-completion").')]),e._v(" "),a("li",[e._v("If no JavaScript is running, run any pending event handlers.")])]),e._v(" "),a("p",[e._v("Since most JavaScript is run in response to an event, this is known as an "),a("em",[e._v("event loop")]),e._v(": Pick up the next event, run its handler, and repeat.")]),e._v(" "),a("p",[e._v("There are three parts you have to think about around the event loop:")]),e._v(" "),a("ul",[a("li",[e._v("the Call Stack")]),e._v(" "),a("li",[e._v("Web APIs/the browser")]),e._v(" "),a("li",[e._v("an Event Queue")])]),e._v(" "),a("img",{attrs:{src:"assets/eventloop.jpg"}}),e._v(" "),a("p",[e._v("Not all of the code that we write is 100% "),a("em",[e._v("JavaScript")]),e._v(" code:")]),e._v(" "),a("ul",[a("li",[e._v('Some of the code is interacting with the Web APIs (also known as "browser APIs").')]),e._v(" "),a("li",[e._v("for example: "),a("code",[e._v(".addEventListener()")]),e._v(" and "),a("code",[e._v("setTimeout()")]),e._v(" are Web APIs.")])]),e._v(" "),a("p",[e._v("IMPORTANT:")]),e._v(" "),a("ol",[a("li",[e._v("current synchronous code runs to completion, and")]),e._v(" "),a("li",[e._v("events are processed when the browser isn't busy.")]),e._v(" "),a("li",[e._v("Asynchronous code (such as loading an image) runs outside of this loop and sends an event when it is done.")])]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" pageFooter "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'#page-footer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\npageFooter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("iceCream")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" footerDetails "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'#details'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n    footerDetails"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Everyone should eat ice cream!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("When this code is run, the "),a("code",[e._v("iceCream")]),e._v(" function is given to the browser. When the "),a("code",[e._v("<footer>")]),e._v(" is clicked, the code moves to the Queue. Then, when the Call Stack is empty, "),a("code",[e._v("iceCream")]),e._v(" is moved over to the Call Stack and invoked.")]),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("Any asynchronous code (like "),a("code",[e._v("setTimeout")]),e._v(" or the function passed to "),a("code",[e._v(".addEventListener()")]),e._v(") is handled by the browser. When this asynchronous code is ready to be executed, it's moved to the queue where it waits until the Call Stack is empty. Whenever the Call Stack is empty, code moves from the Queue over to the Call Stack and gets executed.")]),e._v(" "),a("h3",{attrs:{id:"further-research-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#further-research-2"}},[e._v("#")]),e._v(" Further Research")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop",target:"_blank",rel:"noopener noreferrer"}},[e._v("Concurrency model and Event Loop"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Overview_of_Events_and_Handlers",target:"_blank",rel:"noopener noreferrer"}},[e._v("Events and Handlers Overview"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.youtube.com/watch?v=8aGhZQkoFbQ",target:"_blank",rel:"noopener noreferrer"}},[e._v("What the heck is the event loop anyway? by Philip Roberts on YouTube"),a("OutboundLink")],1)])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"threads"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threads"}},[e._v("#")]),e._v(" Threads")]),e._v(" "),a("p",[e._v("JavaScript is traditionally single-threaded. Even with multiple cores, you could only get it to run tasks on a single thread, called the "),a("strong",[e._v("main thread")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[e._v("Task A --\x3e Task B --\x3e Task C\n")])])]),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web workers"),a("OutboundLink")],1),e._v(" allow you to send some of the JavaScript processing off to a separate thread, called a worker.")]),e._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[e._v("  Main thread: Task A --\x3e Task C\nWorker thread: Expensive task B\n")])])]),a("p",[e._v("Web workers are pretty useful, but they do have their limitations. A major one is they are not able to access the "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/DOM",target:"_blank",rel:"noopener noreferrer"}},[e._v("DOM"),a("OutboundLink")],1)]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"syntax-to-write-async-requests"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syntax-to-write-async-requests"}},[e._v("#")]),e._v(" Syntax to write async requests")]),e._v(" "),a("ol",[a("li",[e._v("nested callbacks -â€º gets very unreadable")]),e._v(" "),a("li",[a("code",[e._v(".then")]),e._v(" - / Promises")]),e._v(" "),a("li",[e._v("async-await")])]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN Choosing_the_right_approach"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);